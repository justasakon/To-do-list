(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,i(a.key),a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var r=n(function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"renderInput",function(){var t=document.createElement("span");t.classList.add("add-container");var e=document.createElement("div");e.classList.add("added-task"),n.input=document.createElement("input"),n.input.type="text",n.input.placeholder="Add to your list...",n.input.classList.add("input-task"),n.input.id="input-task";var a=document.createElement("span");a.innerHTML="&#x21bb;",a.classList.add("add-icon"),e.appendChild(n.input),e.appendChild(a),t.appendChild(e),n.root.appendChild(t),n.list=document.createElement("ul"),n.list.classList.add("task-list"),n.list.id="task-list",n.root.appendChild(n.list),n.clearButton=document.createElement("button"),n.clearButton.textContent="Clear all completed",n.clearButton.classList.add("clear-button"),n.root.appendChild(n.clearButton)}),a(this,"addTask",function(t){var e={id:Date.now(),description:t,completed:!1,index:n.tasks.length};n.tasks.push(e),n.save(),n.renderTasks()}),a(this,"save",function(){localStorage.setItem("tasks",JSON.stringify(n.tasks))}),a(this,"renderTasks",function(){n.list.innerHTML="",n.tasks.forEach(function(t){var e=document.createElement("li");e.classList.add("task-item");var a=document.createElement("span");a.classList.add("task-group");var i=document.createElement("input");i.type="checkbox",i.checked=t.completed,i.classList.add("task-checkbox"),i.addEventListener("change",function(){t.completed=i.checked,n.save()});var r=document.createElement("p");r.textContent=t.description,r.addEventListener("click",function(){var e=document.createElement("input");e.type="text",e.value=t.description,e.classList.add("edit-task-input"),a.replaceChild(e,r),e.focus();var i=function(){""!==e.value.trim()&&(t.description=e.value.trim()),n.save(),n.renderTasks()};e.addEventListener("keydown",function(t){"Enter"===t.key&&i()}),e.addEventListener("blur",i)}),a.appendChild(i),a.appendChild(r),e.appendChild(a);var s=document.createElement("span");s.innerHTML="&#8942;",s.classList.add("item-menu"),s.style.cursor="pointer",s.title="Delete task",s.addEventListener("click",function(){n.tasks=n.tasks.filter(function(e){return e.id!==t.id}),n.save(),n.renderTasks()}),e.appendChild(s),n.list.appendChild(e)})}),a(this,"clearCompleted",function(){n.tasks=n.tasks.filter(function(t){return!t.completed}),n.save(),n.renderTasks()}),this.tasks=JSON.parse(localStorage.getItem("tasks")||"[]"),this.root=document.getElementById(e),this.renderInput(),this.renderTasks(),this.input.addEventListener("keydown",function(t){"Enter"===t.key&&""!==n.input.value.trim()&&(n.addTask(n.input.value.trim()),n.input.value="")}),this.clearButton.addEventListener("click",function(){return n.clearCompleted()})});document.addEventListener("DOMContentLoaded",function(){new r("root")})})();